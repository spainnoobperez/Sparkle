<h2>Настройки</h2>\
\
Настройки в файле <file>/data/data/com.sion.sparkle/files/settings.lua</file>. Файл считывается только в момент запуска sparkle (если что-то изменили, нужно перезапустить sparkle).
На данный момент доступны следующие опции:
* upload_mode - способ вывода изображения. 0 - самый быстрый. 1 - немного медленнее, но может решить проблему мигания/просвечивания. 2 - медленный, но почти гарантированно решает проблему мигания/просвечивания.
* no_damage - отключение damage. Если установить "true", будет перерисовываться весь экран, а не только изменившийся участок. Полезно для устройств с "мутными" экранами.
* DPI - Почему-то не работает. Хотя xrandr показывает правильный физический размер экрана. Не ясно.

<h2>Мутные экраны</h2>\
\
Выяснилось, что встречаются устройства (по крайней мере, одно), на которых попытка перерисовывать только часть экрана (а не весь экран целиком) вызывает аномальную нагрузку на процессор и тормоза. Посмотрите лог <file>/data/data/com.sion.sparkle/files/log.txt</file>. Там отображается нагрузка на процессор (на одно ядро). Если при, например, просмотре видео она поднимается выше 40-50%, то это фигово и, вероятно, у вас одно из таких устройств. Можете попробовать включить no_damage в настройках.
