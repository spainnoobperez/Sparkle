<h2>Подробности</h2>\
\
    1. Sparkle создает сокет (файл) <file>/data/data/com.sion.sparkle/files/wayland-0</file>. Если вы используете chroot, необходимо сделать этот файл доступным изнутри директории с дистрибутивом. Самый простой способ - это смонтировать <file>/data</file> в директорию дистрибутива:
<code>\
# в андроиде, от рута
mkdir -p путь_к_директории_дистрибутива/data
mount -o bind /data путь_к_директории_дистрибутива/data
</code>\
Но, если вы так сделаете, лучше бы вам об этом не забыть и не попытаться удалить дистрибутив командой
<code>\
rm -rf
</code>\

    2. Wayland клиентам (включая xwayland) для работы нужна специальная директория (XDG_RUNTIME_DIR). Владельцем директории должен быть пользователь, который будет запускать клиент (не обязательно root). Лучше создать новую директорию на tmpfs. Если вы используете chroot, проверьте смонтировано ли у вас tmpfs на <file>/tmp</file>. Если нет, смонтируйте:
<code>\
# в дистрибутиве, от рута
mount -t tmpfs tmpfs /tmp
</code>\
Затем создайте директорию от имени вашего основного пользователя (название не обязательно должно быть <file>runtime</file>):
<code>\
# в дистрибутиве, от пользователя
mkdir /tmp/runtime
</code>\
Если клиент запускается в окружении андроида (без chroot), всё, в принципе, так же. Точкой монтирования tmpfs не обязательно должно быть <file>/tmp</file>.

    3. Создайте симлинк на <file>data/data/com.sion.sparkle/wayland-0</file> в вашей XDG_RUNTIME_DIR:
<code>\
ln -s /data/data/com.sion.sparkle/files/wayland-0 /tmp/runtime/
</code>\

    4. Теперь нужно либо отключить SELinux:
<code>\
# в андроиде, от рута
setenforce 0
</code>\
либо изменить контекст на вашей XDG_RUNTIME_DIR. Есть три варианта. Сначала попробуйте такой:
<code>\
# в андроиде, от рута
restorecon путь_к_директории_дистрибутива/tmp
restorecon путь_к_директории_дистрибутива/tmp/runtime
</code>\
Если не сработает, можно изменить контекст на вот такой:
<code>\
# в андроиде, от рута
chcon "u:object_r:app_data_file:s0" путь_к_директории_дистрибутива/tmp
chcon "u:object_r:app_data_file:s0" путь_к_директории_дистрибутива/tmp/runtime
</code>\
А если и это не сработает, то можно посмотреть контекст на директории sparkle и установить для XDG_RUNTIME_DIR такой же:
<code>\
# в андроиде, от рута
ls -Z /data/data/com.sion.sparkle/files
</code>\

    5. Попробуйте запустить xwayland (или другой клиент):
<code>\
export XDG_RUNTIME_DIR=/tmp/runtime
Xwayland
</code>\
